define(["jquery","underscore"],function(e,r){var n=function(e){var r=document.createElement("a");return r.href=e,r},t=function(r,t){if(!t)return r;for(var a=n(r),i={},u=a.search.substr(1).split("&"),c=0;c<u.length;c++){var o=u[c].split("=");o[0]&&(i[o[0]]=decodeURIComponent(o[1].replace("+"," ")))}return e.extend(i,t),a.search="?"+e.param(i),a.href},a=function(e){return e.replace(/[<>]/g,"")},i=function(e){var n={};return r.each(e,function(e){var t,a=e.trim().split("=");2===a.length&&(t={},t[a[0]]=a[1].replace(/"/g,""),r.extend(n,t))}),n},u=function(r){if(!r)return{};for(var n,t,u,c,o=r.split(","),l={},s=0;s<o.length;s++)n=o[s].split(";"),t=a(e.trim(n[0])),u=i(n.slice(1)),"rel"in u&&(c=u.rel,delete u.rel,c in l||(l[c]=t));return l},c=function(e){if(!e.getResponseHeader)return{};var r=e.getResponseHeader("Link");return r=u(r)},o=function(e){if(!e.getResponseHeader)return{};var r=e.getResponseHeader("Link-Template");return r=u(r)},l=function(e,r,n){var t=n.replace(/[\{\}]/g,"");return void 0!==r[t]?e.replace(n,r[t]):e},s=function(n,t){var a,i=e.extend(!0,{},t),u=[],c=/(\{\w+\})/g;return r.each(i,function(e,r){for(u=[];a=c.exec(e);)e=l(e,n,a[1]);i[r]=e}),i};return{alterUrlParams:t,getLinks:c,getLinkTemplates:o,getLinksFromTemplates:s,linkParser:n}});
//# sourceMappingURL=url.js.map